# 实现的简介

CopyOnWriteArrayList 中的加锁过程还是非常值得学习的。CopyOnWriteArrayList 的加锁过程，大概可以概括为以下四步：

1、加锁；
2、从原数组中拷贝出新数组；
3、在新数组上进行操作，并把新数组赋值给数组容器；
4、解锁；

CopyOnWriteArrayList 就是通过加锁来说实现容器安全的，可能你会有疑问，为什么引入一个新数组，数组的拷贝还是消耗时间的，直接在原数组上操作不就好了吗？。主要原因有以下两点：

volatile 关键字修饰的是数组，如果我们简单的在原来数组上修改其中某几个元素的值，是无法触发可见性的，我们必须通过修改数组的内存地址才行，也就说要对数组进行重新赋值才行。
在新的数组上进行拷贝，对老数组没有任何影响，只有新数组完全拷贝完成之后，外部才能访问到，降低了在赋值过程中，老数组数据变动的影响。比如经典的 ConcurrentModificationException 异常问题。
