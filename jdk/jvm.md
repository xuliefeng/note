# JVM 随笔

## 内存

#### 内存分配方式

- 指针碰撞
  堆内存

### 常量池

常量池分为三种：Class 文件常量池（静态常量池，方法区运行时常量池），运行时常量池，字符串常量池

- Class 文件常量池：指的是编译生成的字节码结构中的常量池，它存放了编译期间生成的各种字面量和符号引用，被虚拟机加载后存放在方法区的运行时常量池中

- 运行时常量池：运行时常量池时方法区中的一部分，是一块内存区域。运行时常量池不同于文件常量池的一点是，它是一个动态的常量池。例如可以动态的添加字面量常量

- 字符串常量池：字符串常量池是一个全局的性的。也就是 JVM 中只有存在一份字符串常量池

在 jdk1.6（含）之前也是方法区（永久代）的一部分，并且其中存放的是字符串的实例   
在 jdk1.7（含）之后是在堆内存之中，存储的是字符串对象的引用，字符串实例是在堆中   
jdk1.8 已移除永久代，字符串常量池是在本地内存当中，存储的也只是引用
